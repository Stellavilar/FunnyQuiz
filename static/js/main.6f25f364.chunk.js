(this["webpackJsonpsav-connect-client"]=this["webpackJsonpsav-connect-client"]||[]).push([[0],{158:function(e,t,c){},231:function(e,t){var c=/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$/;e.exports={validate:function(e){return!!c.test(e)}}},232:function(e,t){var c=/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/;e.exports={validate:function(e){return!!c.test(e)}}},269:function(e,t,c){},391:function(e,t,c){"use strict";c.r(t);var n=c(1),a=c(50),s=c(16),i=c(4),r=c(13),l=c(9),j=c.n(l),o=(c(269),c.p+"static/media/savLogo.c30833bc.png"),d=c(407),b=c(403),u=c(0),O=function(){var e=Object(r.f)();return Object(u.jsx)("div",{className:"burger-button",children:Object(u.jsx)(b.a,{item:!0,text:"",icon:"bars",children:Object(u.jsxs)(b.a.Menu,{children:[Object(u.jsx)(b.a.Item,{onClick:function(){return e.push("/dashboard")},children:"Liste des r\xe9parations"}),Object(u.jsx)(b.a.Item,{onClick:function(){return e.push("/RepairSheetForm")},children:"Cr\xe9er une fiche de r\xe9paration"}),Object(u.jsx)(b.a.Item,{onClick:function(){return e.push("/ClientList")},children:"Liste des clients"}),Object(u.jsx)(b.a.Item,{onClick:function(){return e.push("/clientForm")},children:"Cr\xe9er une fiche client"}),Object(u.jsx)(b.a.Item,{onClick:function(){return e.push("/archives")},children:"Liste des archives"}),Object(u.jsx)(b.a.Item,{onClick:function(){return e.push("/workerForm")},children:"Cr\xe9er une fiche employ\xe9"}),Object(u.jsx)(b.a.Item,{onClick:function(){return e.push("/workerList")},children:"Liste des employ\xe9s"}),Object(u.jsx)(b.a.Item,{onClick:function(){return e.push("/PanneForm")},children:"Cr\xe9er un mod\xe8le de panne"}),Object(u.jsx)(b.a.Item,{onClick:function(){return e.push("/PanneList")},children:"Liste des pannes"}),Object(u.jsx)(b.a.Item,{onClick:function(){return e.push("/TagForm")},children:"Cr\xe9er un tag"}),Object(u.jsx)(b.a.Item,{onClick:function(){return e.push("/TagList")},children:"Liste des tags"}),Object(u.jsx)(b.a.Item,{onClick:function(){return e.push("/actionForm")},children:"Cr\xe9er une action"}),Object(u.jsx)(b.a.Item,{onClick:function(){return e.push("/actions")},children:"Liste des action"}),Object(u.jsx)(b.a.Item,{onClick:function t(){var c=localStorage.getItem("token");return j.a.get("logout",{headers:{Authorization:"Bearer "+c}}).then((function(t){localStorage.removeItem("token"),e.push("/")})).catch((function(e){console.log(e)})),t},className:"deconnect",children:"D\xe9connexion"})]})})})},h=function(){var e=Object(r.f)();return Object(u.jsx)("div",{className:"burger-button",children:Object(u.jsx)(b.a,{item:!0,text:"",icon:"bars",children:Object(u.jsxs)(b.a.Menu,{children:[Object(u.jsx)(b.a.Item,{onClick:function(){return e.push("/dashboard")},children:"Liste des r\xe9parations"}),Object(u.jsx)(b.a.Item,{onClick:function(){return e.push("/RepairSheetForm")},children:"Cr\xe9er une fiche de r\xe9paration"}),Object(u.jsx)(b.a.Item,{onClick:function(){return e.push("/ClientList")},children:"Liste des clients"}),Object(u.jsx)(b.a.Item,{onClick:function(){return e.push("/clientForm")},children:"Cr\xe9er une fiche client"}),Object(u.jsx)(b.a.Item,{onClick:function(){return e.push("/archives")},children:"Liste des archives"}),Object(u.jsx)(b.a.Item,{onClick:function t(){var c=localStorage.getItem("token");return j.a.get("logout",{headers:{Authorization:"Bearer "+c}}).then((function(t){localStorage.removeItem("token"),e.push("/")})).catch((function(e){console.log(e)})),t},className:"deconnect",children:"D\xe9connexion"})]})})})},x=function(){var e=Object(r.f)(),t=localStorage.getItem("isAdmin"),c=Object(n.useState)(""),a=Object(i.a)(c,2),s=a[0],l=a[1],b=Object(n.useState)([]),x=Object(i.a)(b,2),m=x[0],p=x[1],f=Object(n.useState)(!1),g=Object(i.a)(f,2),v=g[0],C=g[1];!function e(t){var c="search/?q=".concat(s);return j.a.get(c).then((function(e){p(e.data)})).catch((function(e){console.log(e)})),e}();var N=function(t){var c=t.target.id;e.push("/RepairSheet/".concat(c)),window.location.reload(!1)},S=m.map((function(e){return Object(u.jsxs)("div",{className:"result-content",onClick:N,id:e.order_number,children:[e.order_number," ",e.lastname," ",e.firstname," ",e.device_name," "]},e.id)}));return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("div",{className:"navbar",children:[Object(u.jsx)("img",{src:o,alt:"logo",onClick:function(){return e.push("/dashboard")}}),Object(u.jsx)("div",{className:"ui search",children:Object(u.jsxs)("div",{className:"ui icon input",children:[Object(u.jsx)("input",{className:"prompt",type:"text",placeholder:"Rechercher une fiche SAV...",onChange:function(e){l(e.target.value),""===e.target.value?C(!1):C(!0)}}),Object(u.jsx)("i",{className:"search icon"})]})}),Object(u.jsx)("div",{className:"profil-buttons",children:Object(u.jsx)(d.a,{color:"linkedin",onClick:function t(){var c=localStorage.getItem("token");return j.a.get("logout",{headers:{Authorization:"Bearer "+c}}).then((function(t){localStorage.removeItem("token"),e.push("/")})).catch((function(e){console.log(e)})),t},children:"D\xe9connexion"})}),"true"===t?Object(u.jsx)(O,{}):Object(u.jsx)(h,{})]}),v?Object(u.jsx)("div",{className:"results",children:S}):null]})},m=c(33),p=c(26),f=c(410),g=c(404),v=function(){var e=Object(r.f)(),t=Object(n.useState)(null),c=Object(i.a)(t,2),a=c[0],l=c[1],b=Object(n.useState)({mail:"",password:""}),O=Object(i.a)(b,2),h=O[0],x=O[1],v=function(e){x(Object(p.a)(Object(p.a)({},h),{},Object(m.a)({},e.target.name,e.target.value)))};return Object(u.jsxs)("div",{className:"login",children:[Object(u.jsx)("img",{src:o,alt:"logo"}),Object(u.jsx)(f.a,{as:"h2",children:"Se connecter"}),Object(u.jsxs)(g.a,{onSubmit:function(t){t.preventDefault(),j.a.post("login",h,{withCredentials:!0,headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(t){t.data.token?!0===t.data.isAdmin?(e.push("/dashboard"),localStorage.setItem("token",t.data.token),localStorage.setItem("isAdmin",!0),window.location.reload(!1)):!1===t.data.isAdmin&&(e.push("/dashboard"),localStorage.setItem("token",t.data.token),localStorage.setItem("isAdmin",!1),window.location.reload(!1)):l(" * Identifiants incorrects")})).catch((function(e){console.log(e)}))},children:[Object(u.jsxs)(g.a.Field,{children:[Object(u.jsx)("label",{children:"Adresse e-mail"}),Object(u.jsx)("input",{type:"text",name:"mail",onChange:v})]}),Object(u.jsxs)(g.a.Field,{children:[Object(u.jsx)("label",{children:"Mot de passe"}),Object(u.jsx)("input",{type:"password",name:"password",onChange:v})]}),a&&Object(u.jsx)("p",{className:"error-message",children:a}),Object(u.jsxs)("div",{className:"buttons",children:[Object(u.jsx)(d.a,{color:"teal",children:"Valider"}),Object(u.jsx)(s.b,{to:"/",children:Object(u.jsx)(d.a,{color:"red",children:"Annuler"})})]})]})]})},C=c(236),N=c(180),S=c(405),w=function(e){var t=e.repair,c=Object(r.f)(),a=Object(n.useState)(!1),s=Object(i.a)(a,2),l=s[0],o=s[1],d=Object(n.useState)(!1),b=Object(i.a)(d,2),O=b[0],h=b[1],x=function(e){h(e.target.id),o(!0)},m=t.map((function(e){return Object(u.jsxs)(C.a.Row,{className:"grid-details",children:[Object(u.jsx)(C.a.Column,{children:Object(u.jsx)("div",{className:"grid-details",children:e.order_number})}),Object(u.jsx)(C.a.Column,{children:Object(u.jsxs)("div",{className:"grid-details",children:[e.customer.lastname," ",e.customer.firstname]})}),Object(u.jsx)(C.a.Column,{children:Object(u.jsx)("div",{className:"grid-details",children:e.device_name})}),Object(u.jsx)(C.a.Column,{children:Object(u.jsx)("div",{className:"grid-details",children:e.device_brand})}),Object(u.jsx)(C.a.Column,{children:Object(u.jsx)("div",{className:"grid-details",children:new Intl.DateTimeFormat("fr-FR").format(new Date(e.date_enter))})}),Object(u.jsxs)(C.a.Column,{className:"tags",children:[e.tags[0]?Object(u.jsx)("div",{className:"dashboard-tag",style:{backgroundColor:"".concat(e.tags[0].color)},children:e.tags[0].title},e.tags[0].id):null,e.tags[1]?Object(u.jsx)("div",{className:"dashboard-tag",style:{backgroundColor:"".concat(e.tags[1].color)},children:e.tags[1].title},e.tags[1].id):null,e.tags[2]?Object(u.jsx)("div",{className:"dashboard-tag",style:{backgroundColor:"".concat(e.tags[2].color)},children:e.tags[2].title},e.tags[2].id):null]}),Object(u.jsxs)(C.a.Column,{className:"options",children:[Object(u.jsx)("i",{className:"far fa-eye",onClick:function(){return c.push("/RepairSheet/".concat(e.order_number))}}),Object(u.jsx)("i",{className:"fas fa-pencil-alt",onClick:function(){return c.push("/RepairSheet/edit/".concat(e.order_number))}}),Object(u.jsx)("i",{className:"far fa-trash-alt",onClick:x,id:e.id})]})]},e.id)}));return Object(u.jsx)("div",{className:"main-page",children:Object(u.jsxs)("div",{className:"dashboard",children:[Object(u.jsx)(f.a,{as:"h1",children:"Liste des r\xe9parations"}),Object(u.jsx)(C.a,{columns:"equal",children:Object(u.jsxs)(C.a.Row,{children:[Object(u.jsx)(C.a.Column,{children:Object(u.jsx)(N.a,{children:"Ref"})}),Object(u.jsx)(C.a.Column,{children:Object(u.jsx)(N.a,{children:"Client"})}),Object(u.jsx)(C.a.Column,{children:Object(u.jsx)(N.a,{children:"Appareil"})}),Object(u.jsx)(C.a.Column,{children:Object(u.jsx)(N.a,{children:"Mod\xe8le"})}),Object(u.jsx)(C.a.Column,{children:Object(u.jsx)(N.a,{children:"Entr\xe9e"})}),Object(u.jsx)(C.a.Column,{children:Object(u.jsx)(N.a,{children:"Tags"})}),Object(u.jsx)(C.a.Column,{children:Object(u.jsx)(N.a,{children:"Options"})})]})}),Object(u.jsx)(N.a,{className:"grid-details",children:Object(u.jsx)(C.a,{columns:7,children:m})}),Object(u.jsx)(S.a,{open:l,onCancel:function(){o(!1)},onConfirm:function(){j.a.get("repairSheet/archive/".concat(O),{withCredentials:!0,headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){console.log(e),window.location.reload(!1)})).catch((function(e){console.log(e)}))},content:" \xcates-vous s\xfbr de vouloir archiver cette fiche ?",cancelButton:"Annuler",confirmButton:"OK"})]})})},k=c(413),I=c(406),F=function(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),c=t[0],a=t[1],s=Object(r.g)().order_number,l=function e(){return j.a.get("repairSheet/stepOne/".concat(s)).then((function(e){a(e.data[0])})).catch((function(e){console.log(e)})),e};return Object(n.useEffect)(l,[l]),Object(u.jsxs)("div",{className:"repair-sheet-infos",children:[Object(u.jsxs)(f.a,{as:"h2",children:["Fiche de r\xe9paration n\xb0 ",c.order_number]}),Object(u.jsxs)(I.a,{children:[Object(u.jsxs)(I.a.Item,{children:[Object(u.jsx)(I.a.Icon,{name:"laptop"}),Object(u.jsx)(I.a.Content,{children:Object(u.jsx)(I.a.Header,{as:"h3",children:c.device_name})})]}),Object(u.jsxs)(I.a.Item,{children:[Object(u.jsx)(I.a.Icon,{name:"address card"}),Object(u.jsx)(I.a.Content,{children:Object(u.jsxs)(I.a.Header,{as:"h4",children:[c.lastname," ",c.firstname]})})]}),Object(u.jsxs)(I.a.Item,{children:[Object(u.jsx)(I.a.Icon,{name:"phone"}),Object(u.jsx)(I.a.Content,{children:Object(u.jsx)(I.a.Header,{as:"h4",children:c.phone})})]}),c.phone_two?Object(u.jsxs)(I.a.Item,{children:[Object(u.jsx)(I.a.Icon,{name:"phone"}),Object(u.jsx)(I.a.Content,{children:Object(u.jsx)(I.a.Header,{as:"h4",children:c.phone_two})})]}):Object(u.jsx)("p",{}),c.mail?Object(u.jsxs)(I.a.Item,{children:[Object(u.jsx)(I.a.Icon,{name:"mail"}),Object(u.jsx)(I.a.Content,{children:Object(u.jsx)(I.a.Header,{as:"h4",children:c.mail})})]}):Object(u.jsx)("p",{})]})]})},_=c(412),y=c(90),A=c.n(y),D=(c(157),c(158),function(){var e=Object(r.g)().order_number,t=Object(n.useState)(!1),c=Object(i.a)(t,2),a=c[0],s=c[1],l=function(){s(!1)},o=Object(n.useState)(!1),b=Object(i.a)(o,2),O=b[0],h=b[1],x=function(e,t){var c=t.value;return h({value:c})},m=Object(n.useState)(!0),p=Object(i.a)(m,2),f=p[0],v=p[1],C=Object(n.useState)(null),N=Object(i.a)(C,2),w=N[0],k=N[1],I=Object(n.useRef)(!0),F=Object(n.useState)(""),y=Object(i.a)(F,2),D=y[0],L=y[1],R=Object(n.useState)(""),z=Object(i.a)(R,2),M=z[0],T=z[1],B=Object(n.useState)(null),E=Object(i.a)(B,2),P=E[0],V=E[1],H=Object(n.useState)([]),q=Object(i.a)(H,2),K=q[0],U=q[1],$=function e(){return j.a.get("pannes").then((function(e){U(e.data)})).catch((function(e){console.log(e)})),e},J=K.map((function(e){return Object(u.jsx)(_.a,{label:e.title,name:"panne",value:e.title+" / ",checked:O.value===e.title+" / ",onChange:x},e.id)}));return Object(n.useEffect)($,[$]),Object(n.useEffect)((function(){I.current?I.current=!1:v(function(){if(""===P)return k("* Vous n'avez pas compl\xe9t\xe9 tous les champs n\xe9cessaires"),!0;k(null)}())}),[P]),Object(u.jsxs)("div",{className:"tab-form",children:[Object(u.jsxs)(g.a,{onSubmit:function(t){t.preventDefault(),j.a.patch("repairSheet/stepTwo/".concat(e),{panne:O.value+M,device_brand:D,interval_repair:P._d},{withCredentials:!0,headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){console.log(e),s(!0)})).catch((function(e){console.log(e)})),t.target.reset()},children:[Object(u.jsxs)(g.a.Field,{children:[Object(u.jsx)("label",{children:"Mod\xe8le de l'appareil \xe0 r\xe9parer"}),Object(u.jsx)("input",{type:"text",name:"device_brand",onChange:function(e){return L(e.target.value)}})]}),Object(u.jsxs)(g.a.Field,{children:[Object(u.jsx)("label",{children:"Descriptif Panne"}),J,Object(u.jsx)("textarea",{name:"panne",onChange:function(e){return T(e.target.value)}})]}),Object(u.jsxs)(g.a.Field,{children:[Object(u.jsx)("label",{children:"D\xe9lai de r\xe9paration"}),Object(u.jsx)(A.a,{locale:"fr",utc:!0,placeholder:"Saisissez une date",name:"date_devis",value:P,onChange:function(e){return V(e)}})]}),w&&Object(u.jsx)("p",{className:"error",children:w}),Object(u.jsxs)("div",{className:"buttons",children:[Object(u.jsx)(d.a,{color:"teal",disabled:f,children:"Valider"}),Object(u.jsx)(d.a,{color:"red",onClick:function(){window.location.reload(!1)},children:"Annuler"})]})]}),Object(u.jsx)(S.a,{open:a,onCancel:l,onConfirm:l,content:" Informations enregistr\xe9es ",cancelButton:"Fermer",confirmButton:"OK"})]})}),L=function(){var e=Object(r.g)().order_number,t=Object(n.useState)(!1),c=Object(i.a)(t,2),a=c[0],s=c[1],l=function(){s(!1)},o=Object(n.useState)(""),b=Object(i.a)(o,2),O=b[0],h=b[1],x=Object(n.useState)(null),m=Object(i.a)(x,2),p=m[0],f=m[1],v=Object(n.useState)(!0),C=Object(i.a)(v,2),N=C[0],w=C[1],k=Object(n.useState)(null),I=Object(i.a)(k,2),F=I[0],_=I[1],y=Object(n.useRef)(!0);return Object(n.useEffect)((function(){y.current?y.current=!1:w(function(){if(""===p)return _("* Vous n'avez pas compl\xe9t\xe9 tous les champs n\xe9cessaires"),!0;_(null)}())}),[p]),Object(u.jsxs)("div",{className:"tab-form",children:[Object(u.jsxs)(g.a,{onSubmit:function(t){t.preventDefault(),j.a.patch("repairSheet/stepThree/".concat(e),{intervention:O,date_intervention:p._d},{withCredentials:!0,headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){console.log(e),s(!0)})).catch((function(e){console.log(e)})),t.target.reset()},children:[Object(u.jsxs)(g.a.Field,{children:[Object(u.jsx)("label",{children:"D\xe9tails de l'intervention"}),Object(u.jsx)("input",{type:"text",name:"intervention",onChange:function(e){return h(e.target.value)}})]}),Object(u.jsxs)(g.a.Field,{children:[Object(u.jsx)("label",{children:"Date d'intervention"}),Object(u.jsx)(A.a,{locale:"fr",utc:!0,placeholder:"Saisissez une date",name:"date_devis",value:p,onChange:function(e){return f(e)}})]}),F&&Object(u.jsx)("p",{className:"error",children:F}),Object(u.jsxs)("div",{className:"buttons",children:[Object(u.jsx)(d.a,{color:"teal",disabled:N,children:"Valider"}),Object(u.jsx)(d.a,{color:"red",onClick:function(){window.location.reload(!1)},children:"Annuler"})]})]}),Object(u.jsx)(S.a,{open:a,onCancel:l,onConfirm:l,content:" Informations enregistr\xe9es ",cancelButton:"Fermer",confirmButton:"OK"})]})},R=function(){var e=Object(r.g)().order_number,t=Object(n.useState)(!1),c=Object(i.a)(t,2),a=c[0],s=c[1],l=function(){s(!1)},o=Object(n.useState)(""),b=Object(i.a)(o,2),O=b[0],h=b[1],x=Object(n.useState)(""),m=Object(i.a)(x,2),p=m[0],f=m[1],v=Object(n.useState)(""),C=Object(i.a)(v,2),N=C[0],w=C[1],k=Object(n.useState)(null),I=Object(i.a)(k,2),F=I[0],y=I[1],D=Object(n.useState)(!0),L=Object(i.a)(D,2),R=L[0],z=L[1],M=Object(n.useState)(null),T=Object(i.a)(M,2),B=T[0],E=T[1],P=Object(n.useRef)(!0),V=Object(n.useState)(""),H=Object(i.a)(V,2),q=H[0],K=H[1],U=function(e,t){var c=t.value;return K({value:c})};return Object(n.useEffect)((function(){P.current?P.current=!1:z(function(){if(""===F)return E("* Vous n'avez pas compl\xe9t\xe9 tous les champs n\xe9cessaires"),!0;E(null)}())}),[F]),Object(u.jsxs)("div",{className:"tab-form",children:[Object(u.jsxs)(g.a,{onSubmit:function(t){t.preventDefault(),j.a.patch("repairSheet/stepFour/".concat(e),{amount_devis:N,amount_diag:O,recall_devis:p,devis_is_accepted:q.value,date_devis:F._d},{withCredentials:!0,headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){console.log(e),s(!0)})).catch((function(e){console.log(e)})),t.target.reset()},children:[Object(u.jsxs)(g.a.Field,{children:[Object(u.jsx)("label",{children:"Devis accept\xe9 ?"}),Object(u.jsx)(_.a,{radio:!0,label:"oui",name:"devis_is_accepted",value:"oui",checked:"oui"===q.value,onChange:U})]}),Object(u.jsx)(g.a.Field,{children:Object(u.jsx)(_.a,{radio:!0,label:"non",name:"devis_is_accepted",value:"non",checked:"non"===q.value,onChange:U})}),Object(u.jsxs)(g.a.Field,{children:[Object(u.jsx)("label",{children:"Date du devis"}),Object(u.jsx)(A.a,{locale:"fr",utc:!0,placeholder:"Saisissez une date",name:"date_devis",value:F,onChange:function(e){return y(e)}})]}),Object(u.jsxs)(g.a.Field,{children:[Object(u.jsx)("label",{children:"Montant du devis"}),Object(u.jsx)("input",{type:"number",name:"amount_devis",onChange:function(e){return w(e.target.value)}})]}),Object(u.jsxs)(g.a.Field,{children:[Object(u.jsx)("label",{children:"Montant Total"}),Object(u.jsx)("input",{type:"number",name:"amount_diag",onChange:function(e){return h(e.target.value)}})]}),Object(u.jsxs)(g.a.Field,{children:[Object(u.jsx)("label",{children:"Nombre de rappels au client"}),Object(u.jsx)("input",{type:"number",name:"recall_devis",onChange:function(e){return f(e.target.value)}})]}),B&&Object(u.jsx)("p",{className:"error",children:B}),Object(u.jsxs)("div",{className:"buttons",children:[Object(u.jsx)(d.a,{color:"teal",disabled:R,children:"Valider"}),Object(u.jsx)(d.a,{color:"red",onClick:function(){window.location.reload(!1)},children:"Annuler"})]})]}),Object(u.jsx)(S.a,{open:a,onCancel:l,onConfirm:l,content:" Informations enregistr\xe9es ",cancelButton:"Fermer",confirmButton:"OK"})]})},z=function(){var e=Object(r.f)(),t=Object(n.useState)(""),c=Object(i.a)(t,2),a=c[0],s=c[1],l=Object(n.useState)(""),o=Object(i.a)(l,2),b=o[0],O=o[1],h=Object(n.useState)(""),x=Object(i.a)(h,2),m=x[0],p=x[1],v=Object(n.useState)(""),C=Object(i.a)(v,2),N=C[0],w=C[1],k=Object(r.g)().order_number;!function e(){return j.a.get("repairSheet/stepFour/".concat(k)).then((function(e){w(e.data[0].id)})).catch((function(e){console.log(e)})),e}();var I=function e(){return j.a.get("repairSheet/stepOne/".concat(k)).then((function(e){j.a.get("repairSheet/tag/".concat(e.data[0].id)).then((function(e){s(e.data[0]),O(e.data[1]),p(e.data[2])}))})).catch((function(e){console.log(e)})),e},F=Object(n.useState)(null),_=Object(i.a)(F,2),y=_[0],A=_[1],D=function(e){e.target.style.boxShadow="10px 10px 5px 0px #656565";var t=N,c=e.target.id;j.a.get("tag/".concat(c,"/sav/").concat(t),{withCredentials:!0,headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){console.log(e),A(" *Tag ajout\xe9"),window.location.reload(!1)})).catch((function(e){console.log(e)}))},L=Object(n.useState)([]),R=Object(i.a)(L,2),z=R[0],M=R[1],T=function e(){return j.a.get("tags").then((function(e){M(e.data)})).catch((function(e){console.log(e)})),e},B=Object(n.useState)(!1),E=Object(i.a)(B,2),P=E[0],V=E[1],H=Object(n.useState)(""),q=Object(i.a)(H,2),K=q[0],U=q[1],$=function(e){U(e.target.id),V(!0)},J=z.map((function(e){return Object(u.jsxs)("div",{className:"tag",style:{backgroundColor:"".concat(e.color)},id:e.id,onDoubleClick:D,children:[e.title,Object(u.jsx)("div",{onClick:$,children:Object(u.jsx)("i",{className:"far fa-times-circle",id:e.id})})]},e.id)})),Z=Object(n.useState)([]),W=Object(i.a)(Z,2),G=W[0],Q=W[1],X=function e(){return j.a.get("actions").then((function(e){Q(e.data)})).catch((function(e){console.log(e)})),e},Y=G.map((function(e){return Object(u.jsx)("option",{value:e.id,children:e.name},e.id)})),ee=Object(n.useState)(""),te=Object(i.a)(ee,2),ce=te[0],ne=te[1];return Object(n.useEffect)(T,[T]),Object(n.useEffect)(I,[I]),Object(n.useEffect)(X,[X]),Object(u.jsxs)("div",{className:"tab-form",children:[Object(u.jsx)(f.a,{as:"h2",children:"Tags"}),Object(u.jsx)(f.a,{as:"h3",children:"Pour ajouter un tag, double-cliquez dessus !"}),Object(u.jsxs)("div",{className:"tag-list",children:[Object(u.jsx)("div",{className:"tags",children:J}),y&&Object(u.jsx)("p",{children:y})]}),Object(u.jsx)(f.a,{as:"h3",className:"tags-repair",children:"Tags reli\xe9s \xe0 la fiche :"}),Object(u.jsxs)("div",{className:"tag-area",children:[a?Object(u.jsx)("div",{className:"tags-on-form",style:{backgroundColor:"".concat(a.color)},children:a.title}):null,b?Object(u.jsx)("div",{className:"tags-on-form",style:{backgroundColor:"".concat(b.color)},children:b.title}):null,m?Object(u.jsx)("div",{className:"tags-on-form",style:{backgroundColor:"".concat(m.color)},children:m.title}):null]}),Object(u.jsx)(S.a,{open:P,onCancel:function(){V(!1)},onConfirm:function(){j.a.get("repairSheet/stepOne/".concat(k)).then((function(e){j.a.get("remove/".concat(K,"/sav/").concat(e.data[0].id),{withCredentials:!0,headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){console.log(e),window.location.reload(!1)}))})).catch((function(e){console.log(e)})),V(!1)},content:" \xcates-vous s\xfbr de vouloir supprimer ce tag?",cancelButton:"Annuler",confirmButton:"OK"}),Object(u.jsx)(f.a,{as:"h2",children:"Actions"}),Object(u.jsxs)(g.a,{onSubmit:function(t){t.preventDefault(),j.a.get("repairSheet/stepTwo/".concat(k)).then((function(t){j.a.get("action/".concat(ce,"/sav/").concat(t.data[0].id),{withCredentials:!0,headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(t){e.push("/dashboard"),window.location.reload(!1)})).catch((function(e){console.log(e)}))}))},children:[Object(u.jsx)(g.a.Field,{children:Object(u.jsxs)("select",{onChange:function(e){return ne(e.target.value)},children:[Object(u.jsx)("option",{children:"S\xe9lectionnez une action"}),Y]})}),Object(u.jsxs)("div",{className:"buttons",children:[Object(u.jsx)(d.a,{color:"teal",children:"Valider"}),Object(u.jsx)(d.a,{color:"red",onClick:function(){window.location.reload(!1)},children:"Annuler"})]})]})]})},M=[{menuItem:"Client",render:function(){return Object(u.jsx)(k.a.Pane,{children:Object(u.jsx)(F,{})})}},{menuItem:"Appareil",render:function(){return Object(u.jsx)(k.a.Pane,{children:Object(u.jsx)(D,{})})}},{menuItem:"Intervention",render:function(){return Object(u.jsx)(k.a.Pane,{children:Object(u.jsx)(L,{})})}},{menuItem:"Devis",render:function(){return Object(u.jsx)(k.a.Pane,{children:Object(u.jsx)(R,{})})}},{menuItem:"Options",render:function(){return Object(u.jsx)(k.a.Pane,{children:Object(u.jsx)(z,{})})}}],T=function(){return Object(u.jsx)("div",{className:"tab",children:Object(u.jsx)(k.a,{panes:M})})},B=function(e){var t=e.clients,c=Object(r.f)(),a=t.map((function(e){return Object(u.jsx)("option",{value:e.id,children:e.lastname+" "+e.firstname+" "+e.phone},e.id)})),s=Object(n.useState)({customer_id:"",firstname:"",lastname:"",phone:"",phone_two:"",mail:"",device_name:""}),l=Object(i.a)(s,2),o=l[0],b=l[1],O=function(e){b(Object(p.a)(Object(p.a)({},o),{},Object(m.a)({},e.target.name,e.target.value)))},h=Object(n.useRef)(!0),x=Object(n.useState)(null),v=Object(i.a)(x,2),C=v[0],N=v[1],S=Object(n.useState)(!0),w=Object(i.a)(S,2),k=w[0],I=w[1];return Object(n.useEffect)((function(){h.current?h.current=!1:I(""===o.device_name?(N("* Vous n'avez pas compl\xe9t\xe9 tous les champs n\xe9cessaires"),!0):(N(null),!1))}),[o.lastname,o.firstname,o.phone,o.device_name]),Object(u.jsx)("div",{className:"repair-sheet-form",children:Object(u.jsxs)(g.a,{onSubmit:function(e){e.preventDefault(),j.a.post("repairSheet/stepOne",o,{withCredentials:!0,headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){var t=e.data.order_number.order_number;c.push("/RepairSheet/edit/".concat(t))})).catch((function(e){console.log(e)}))},children:[Object(u.jsx)(f.a,{as:"h2",children:"Choisissez un client"}),Object(u.jsxs)("select",{name:"customer_id",onChange:O,placeholder:"S\xe9lectionnez un client",children:[Object(u.jsx)("option",{children:"S\xe9lectionnez un client"}),a]}),Object(u.jsx)(f.a,{as:"h2",children:"Ou Cr\xe9ez un nouveau client"}),Object(u.jsxs)(g.a.Field,{children:[Object(u.jsx)("label",{children:"Nom *"}),Object(u.jsx)("input",{type:"text",name:"lastname",onChange:O})]}),Object(u.jsxs)(g.a.Field,{children:[Object(u.jsx)("label",{children:"Pr\xe9nom *"}),Object(u.jsx)("input",{type:"text",name:"firstname",onChange:O})]}),Object(u.jsxs)(g.a.Field,{children:[Object(u.jsx)("label",{children:"Adresse e-mail"}),Object(u.jsx)("input",{type:"text",name:"mail",onChange:O})]}),Object(u.jsxs)(g.a.Field,{children:[Object(u.jsx)("label",{children:"T\xe9l\xe9phone *"}),Object(u.jsx)("input",{type:"text",name:"phone",onChange:O})]}),Object(u.jsxs)(g.a.Field,{children:[Object(u.jsx)("label",{children:"T\xe9l\xe9phone 2"}),Object(u.jsx)("input",{type:"text",name:"phone_two",onChange:O})]}),Object(u.jsxs)(g.a.Field,{children:[Object(u.jsx)(f.a,{as:"h2",children:"Nom de l'appareil \xe0 r\xe9parer *"}),Object(u.jsx)("input",{type:"text",name:"device_name",onChange:O})]}),C&&Object(u.jsx)("p",{className:"error-message",children:C}),Object(u.jsxs)("div",{className:"buttons",children:[Object(u.jsx)(d.a,{color:"teal",disabled:k,children:"Valider"}),Object(u.jsx)(d.a,{color:"red",onClick:function(){window.location.reload(!1)},children:"Annuler"})]}),"* Champs obligatoires"]})})},E=c(408),P=c(402),V=c(227),H=c.n(V),q=c(179),K=c.n(q),U=function(){var e=Object(r.f)(),t=Object(n.useState)([]),c=Object(i.a)(t,2),a=c[0],s=c[1],l=Object(n.useState)([]),o=Object(i.a)(l,2),d=o[0],b=o[1],O=Object(n.useState)([]),h=Object(i.a)(O,2),x=h[0],m=h[1],p=Object(n.useState)([]),g=Object(i.a)(p,2),v=g[0],C=g[1],S=Object(n.useState)(""),w=Object(i.a)(S,2),k=w[0],F=w[1],_=Object(n.useState)(""),y=Object(i.a)(_,2),A=y[0],D=y[1],L=Object(n.useState)(""),R=Object(i.a)(L,2),z=R[0],M=R[1],T=Object(n.useState)(!1),B=Object(i.a)(T,2),V=B[0],q=B[1],U=Object(r.g)().id,$=function e(){return j.a.get("repairSheet/stepOne/".concat(U)).then((function(e){s(e.data[0]),q(!0)})).catch((function(e){console.log(e)})),e},J=function e(){return j.a.get("repairSheet/stepTwo/".concat(U)).then((function(e){b(e.data[0]),q(!0)})).catch((function(e){console.log(e)})),e},Z=function(){return j.a.get("repairSheet/stepThree/".concat(U)).then((function(e){m(e.data[0]),q(!0)})).catch((function(e){console.log(e)})),J},W=function e(){return j.a.get("repairSheet/stepFour/".concat(U)).then((function(e){C(e.data[0]),q(!0)})).catch((function(e){console.log(e)})),e},G=function e(){return j.a.get("repairSheet/stepOne/".concat(U)).then((function(e){j.a.get("repairSheet/tag/".concat(e.data[0].id)).then((function(e){F(e.data[0]),D(e.data[1]),M(e.data[2]),q(!0)}))})).catch((function(e){console.log(e)})),e},Q="http://localhost:9090/RepairSheet/".concat(U);Object(n.useEffect)($,[$]),Object(n.useEffect)(J,[J]),Object(n.useEffect)(Z,[Z]),Object(n.useEffect)(W,[W]),Object(n.useEffect)(G,[G]);var X=new Date(v.date_devis),Y=new Date(d.interval_repair),ee=new Date(x.date_intervention);return Object(u.jsx)("div",{className:"repair-sheet",children:Object(u.jsxs)(N.a,{children:[Object(u.jsxs)("div",{className:"repair-sheet-one",children:[Object(u.jsxs)("div",{className:"repair-header",children:[Object(u.jsx)("div",{}),Object(u.jsxs)(f.a,{as:"h2",children:["Fiche de r\xe9paration n\xb0 : ",a.order_number," "]}),V?[]:Object(u.jsx)(E.a,{active:!0,inverted:!0,children:Object(u.jsx)(P.a,{inverted:!0})}),Object(u.jsxs)("div",{className:"repair-icons",children:[Object(u.jsx)("i",{className:"fas fa-pencil-alt",onClick:function(){return e.push("/RepairSheet/edit/".concat(U))}}),Object(u.jsxs)(H.a,{trigger:Object(u.jsx)("i",{className:"fas fa-print"}),children:[Object(u.jsxs)(f.a,{as:"h2",children:["Fiche de r\xe9paration n\xb0 : ",a.order_number," "]}),Object(u.jsx)("p",{className:"device",children:a.device_name}),Object(u.jsxs)(I.a.Item,{children:[Object(u.jsx)("span",{className:"repair-span",children:"Nom: "})," ",a.lastname," "]}),Object(u.jsxs)(I.a.Item,{children:[Object(u.jsx)("span",{className:"repair-span",children:"Pr\xe9nom: "})," ",a.firstname," "]}),Object(u.jsxs)(I.a.Item,{children:[Object(u.jsx)("span",{className:"repair-span",children:"T\xe9l\xe9phone: "})," ",a.phone," "]}),Object(u.jsx)(K.a,{size:180,value:Q})]})]})]}),Object(u.jsxs)("div",{className:"repair-sheet-device",children:[Object(u.jsx)("p",{className:"device",children:a.device_name}),d.device_brand?Object(u.jsx)("p",{className:"device",children:d.device_brand}):Object(u.jsx)("p",{})]}),Object(u.jsxs)("div",{className:"repair-sheet-options",children:[Object(u.jsx)(K.a,{size:180,value:Q}),Object(u.jsxs)("div",{className:"tag-area",children:[k?Object(u.jsx)("div",{className:"repar-sheet-tag",style:{backgroundColor:"".concat(k.color)},children:k.title}):null,A?Object(u.jsx)("div",{className:"repar-sheet-tag",style:{backgroundColor:"".concat(A.color)},children:A.title}):null,z?Object(u.jsx)("div",{className:"repar-sheet-tag",style:{backgroundColor:"".concat(z.color)},children:z.title}):null]})]})]}),Object(u.jsxs)("div",{className:"repair-sheet-client",children:[Object(u.jsx)(f.a,{as:"h3",children:"Informations Client"}),Object(u.jsxs)(I.a,{children:[Object(u.jsxs)(I.a.Item,{children:[Object(u.jsx)("span",{className:"repair-span",children:"Nom: "})," ",a.lastname," "]}),Object(u.jsxs)(I.a.Item,{children:[Object(u.jsx)("span",{className:"repair-span",children:"Pr\xe9nom: "})," ",a.firstname," "]}),Object(u.jsxs)(I.a.Item,{children:[Object(u.jsx)("span",{className:"repair-span",children:"T\xe9l\xe9phone: "})," ",a.phone," "]}),a.phone_two?Object(u.jsxs)(I.a.Item,{children:[Object(u.jsx)("span",{className:"repair-span",children:"T\xe9l\xe9phone 2: "})," ",a.phone_two," "]}):Object(u.jsx)("p",{}),a.mail?Object(u.jsxs)(I.a.Item,{children:[Object(u.jsx)("span",{className:"repair-span",children:"Mail: "})," ",a.mail," "]}):Object(u.jsx)("p",{}),v.recall_devis?Object(u.jsxs)(I.a.Item,{children:[Object(u.jsx)("span",{className:"repair-span",children:"Nombre de rappels au client: "})," ",v.recall_devis," "]}):Object(u.jsx)("p",{})]})]}),Object(u.jsxs)("div",{className:"repair-sheet-repair",children:[Object(u.jsx)(f.a,{as:"h3",children:"Informations R\xe9paration"}),Object(u.jsxs)(I.a,{children:[Object(u.jsx)(I.a.Item,{children:Object(u.jsxs)(I.a.Content,{children:[d.interval_repair?Object(u.jsx)(I.a.Header,{children:"D\xe9lai maximum de r\xe9paration:"}):null,Object(u.jsxs)(I.a.Description,{children:[" ",d.interval_repair?Y.toLocaleDateString("fr-FR"):null," "]})]})}),Object(u.jsx)(I.a.Item,{children:Object(u.jsxs)(I.a.Content,{children:[d.panne?Object(u.jsx)(I.a.Header,{children:"Description panne"}):Object(u.jsx)("p",{}),Object(u.jsxs)(I.a.Description,{children:[" ",d.panne," "]})]})}),Object(u.jsx)(I.a.Item,{children:Object(u.jsxs)(I.a.Content,{children:[x.intervention?Object(u.jsx)(I.a.Header,{children:"Description Intervention"}):Object(u.jsx)("p",{}),Object(u.jsxs)(I.a.Description,{children:[" ",x.intervention," "]})]})}),Object(u.jsx)(I.a.Item,{children:Object(u.jsxs)(I.a.Content,{children:[x.date_intervention?Object(u.jsx)(I.a.Header,{children:"Date d'intervention"}):Object(u.jsx)("p",{}),Object(u.jsxs)(I.a.Description,{children:[" ",x.date_intervention?ee.toLocaleDateString("fr-FR"):null," "]})]})})]})]}),Object(u.jsxs)("div",{className:"repair-devis",children:[Object(u.jsx)(f.a,{as:"h3",children:"Informations Devis"}),Object(u.jsxs)(I.a,{children:[Object(u.jsx)(I.a.Item,{children:Object(u.jsxs)(I.a.Content,{children:[v.devis_is_accepted?Object(u.jsx)(I.a.Header,{children:"Devis accept\xe9 ?"}):Object(u.jsx)("p",{}),Object(u.jsxs)(I.a.Description,{children:[" ",v.devis_is_accepted,"  "]})]})}),Object(u.jsx)(I.a.Item,{children:Object(u.jsxs)(I.a.Content,{children:[v.date_devis?Object(u.jsx)(I.a.Header,{children:"Date devis : "}):Object(u.jsx)("p",{}),Object(u.jsxs)(I.a.Description,{children:[v.date_devis?X.toLocaleDateString("fr-FR"):null," "]})]})}),Object(u.jsx)(I.a.Item,{children:Object(u.jsxs)(I.a.Content,{children:[v.amount_devis?Object(u.jsx)(I.a.Header,{children:"Montant devis"}):Object(u.jsx)("p",{}),Object(u.jsxs)(I.a.Description,{className:"amount",children:[v.amount_devis,v.amount_devis?Object(u.jsx)("p",{children:"\u20ac"}):Object(u.jsx)("p",{})]})]})}),Object(u.jsx)(I.a.Item,{children:Object(u.jsxs)(I.a.Content,{children:[v.amount_diag?Object(u.jsx)(I.a.Header,{children:"Montant total"}):Object(u.jsx)("p",{}),Object(u.jsxs)(I.a.Description,{className:"amount",children:[v.amount_diag,v.amount_diag?Object(u.jsx)("p",{children:"\u20ac"}):Object(u.jsx)("p",{})]})]})})]})]})]})})},$=c(233),J=function(){var e=Object(r.f)();return Object(u.jsx)("div",{className:"dashboard-menu",children:Object(u.jsxs)($.a,{vertical:!0,children:[Object(u.jsx)(b.a,{item:!0,text:"R\xe9parations",children:Object(u.jsxs)(b.a.Menu,{children:[Object(u.jsx)(b.a.Item,{onClick:function(){return e.push("/RepairSheetForm")},children:"Cr\xe9er une fiche r\xe9paration"}),Object(u.jsx)(b.a.Item,{onClick:function(){return e.push("/dashboard")},children:"Liste des r\xe9parations"})]})}),Object(u.jsx)(b.a,{item:!0,text:"Clients",children:Object(u.jsxs)(b.a.Menu,{children:[Object(u.jsx)(b.a.Item,{onClick:function(){return e.push("/clientForm")},children:"Cr\xe9er une fiche client"}),Object(u.jsx)(b.a.Item,{onClick:function(){return e.push("/ClientList")},children:"Liste des clients"})]})}),Object(u.jsx)(b.a,{item:!0,text:"Archives",children:Object(u.jsx)(b.a.Menu,{children:Object(u.jsx)(b.a.Item,{onClick:function(){return e.push("/archives")},children:"Liste des archives"})})}),Object(u.jsx)(b.a,{item:!0,text:"Employ\xe9s",children:Object(u.jsxs)(b.a.Menu,{children:[Object(u.jsx)(b.a.Item,{onClick:function(){return e.push("/workerForm")},children:"Cr\xe9er une fiche employ\xe9"}),Object(u.jsx)(b.a.Item,{onClick:function(){return e.push("/workerList")},children:"Liste des employ\xe9s"})]})}),Object(u.jsx)(b.a,{item:!0,text:"Tags",children:Object(u.jsxs)(b.a.Menu,{children:[Object(u.jsx)(b.a.Item,{onClick:function(){return e.push("/TagForm")},children:"Cr\xe9er un tag"}),Object(u.jsx)(b.a.Item,{onClick:function(){return e.push("/TagList")},children:"Liste des tags"})]})}),Object(u.jsx)(b.a,{item:!0,text:"Actions",children:Object(u.jsxs)(b.a.Menu,{children:[Object(u.jsx)(b.a.Item,{onClick:function(){return e.push("/actionForm")},children:"Cr\xe9er une action"}),Object(u.jsx)(b.a.Item,{onClick:function(){return e.push("/actions")},children:"Liste des actions"})]})}),Object(u.jsx)(b.a,{item:!0,text:"Pannes",children:Object(u.jsxs)(b.a.Menu,{children:[Object(u.jsx)(b.a.Item,{onClick:function(){return e.push("/PanneForm")},children:"Cr\xe9er un mod\xe8le de panne"}),Object(u.jsx)(b.a.Item,{onClick:function(){return e.push("/PanneList")},children:"Liste des mod\xe8les de pannes"})]})})]})})},Z=function(){var e=Object(r.f)();return Object(u.jsx)("div",{className:"dashboard-menu",children:Object(u.jsxs)($.a,{vertical:!0,children:[Object(u.jsx)(b.a,{item:!0,text:"R\xe9parations",children:Object(u.jsxs)(b.a.Menu,{children:[Object(u.jsx)(b.a.Item,{onClick:function(){return e.push("/RepairSheetForm")},children:"Cr\xe9er une fiche r\xe9paration"}),Object(u.jsx)(b.a.Item,{onClick:function(){return e.push("/dashboard")},children:"Liste des r\xe9parations"})]})}),Object(u.jsx)(b.a,{item:!0,text:"Clients",children:Object(u.jsxs)(b.a.Menu,{children:[Object(u.jsx)(b.a.Item,{onClick:function(){return e.push("/clientForm")},children:"Cr\xe9er une fiche client"}),Object(u.jsx)(b.a.Item,{onClick:function(){return e.push("/ClientList")},children:"Liste des clients"})]})}),Object(u.jsx)(b.a,{item:!0,text:"Archives",children:Object(u.jsx)(b.a.Menu,{children:Object(u.jsx)(b.a.Item,{onClick:function(){return e.push("/archives")},children:"Liste des archives"})})})]})})},W=c(139),G=function(){var e=Object(r.f)(),t=Object(n.useState)(null),c=Object(i.a)(t,2),a=c[0],s=c[1],l=Object(n.useState)(),o=Object(i.a)(l,2),b=o[0],O=o[1],h=Object(n.useState)(""),x=Object(i.a)(h,2),m=x[0],p=x[1];return Object(u.jsx)("div",{className:"tag-form",children:Object(u.jsxs)(N.a,{children:[Object(u.jsx)(f.a,{as:"h2",children:"Cr\xe9er un Tag"}),Object(u.jsxs)(g.a,{onSubmit:function(t){t.preventDefault(),j.a.post("tag/add",{title:m,color:b}).then((function(t){t.data.error?s(" * Merci de remplir tous les champs"):e.push("/TagList")})).catch((function(e){console.log(e)}))},children:[Object(u.jsxs)(g.a.Field,{children:[Object(u.jsx)("label",{children:"Intitul\xe9 du tag"}),Object(u.jsx)("input",{type:"text",name:"title",onChange:function(e){return p(e.target.value)}})]}),Object(u.jsx)(g.a.Field,{children:Object(u.jsx)("label",{children:"Couleur"})}),Object(u.jsx)(W.a,{name:"color",color:b,onChangeComplete:function(e){return O(e.hex)}}),Object(u.jsxs)("div",{className:"buttons",children:[Object(u.jsx)(d.a,{color:"teal",children:"Valider"}),Object(u.jsx)(d.a,{color:"red",onClick:function(){window.location.reload(!1)},children:"Annuler"}),a&&Object(u.jsx)("p",{className:"error-message",children:a})]})]})]})})},Q=function(){var e=function(){var e=Object(n.useState)(),t=Object(i.a)(e,2),c=t[0],a=t[1],s=Object(n.useState)(""),r=Object(i.a)(s,2),l=r[0],b=r[1];return Object(u.jsxs)("div",{className:"tag-form",children:[Object(u.jsx)(f.a,{as:"h2",children:"Modifier le Tag"}),Object(u.jsxs)(g.a,{onSubmit:function(e){e.preventDefault();var t=o;j.a.patch("tag/edit/".concat(t),{title:l,color:c}).then((function(e){console.log(e),window.location.reload(!1)})).catch((function(e){console.log(e)}))},children:[Object(u.jsxs)(g.a.Field,{children:[Object(u.jsx)("label",{children:"Intitul\xe9 du tag"}),Object(u.jsx)("input",{type:"text",name:"title",onChange:function(e){return b(e.target.value)},placeholder:x})]}),Object(u.jsx)(g.a.Field,{children:Object(u.jsx)("label",{children:"Couleur"})}),Object(u.jsx)(W.a,{name:"color",color:c,onChangeComplete:function(e){return a(e.hex)}}),Object(u.jsxs)("div",{className:"buttons",children:[Object(u.jsx)(d.a,{color:"teal",children:"Valider"}),Object(u.jsx)(d.a,{color:"red",onClick:function(){window.location.reload(!1)},children:"Annuler"})]})]})]})},t=Object(n.useState)(!1),c=Object(i.a)(t,2),a=c[0],s=c[1],r=Object(n.useState)(""),l=Object(i.a)(r,2),o=l[0],b=l[1],O=Object(n.useState)(""),h=Object(i.a)(O,2),x=h[0],m=h[1],p=function(e){e.target.style.border="solid red 2px",m(e.target.title),s(!0),b(e.target.id)},v=Object(n.useState)(!1),C=Object(i.a)(v,2),w=C[0],k=C[1],I=Object(n.useState)(""),F=Object(i.a)(I,2),_=F[0],y=F[1],A=function(e){y(e.target.id),k(!0)},D=Object(n.useState)([]),L=Object(i.a)(D,2),R=L[0],z=L[1],M=function e(){return j.a.get("tags").then((function(e){z(e.data)})).catch((function(e){console.log(e)})),e},T=R.map((function(e){return Object(u.jsxs)("div",{className:"tag",style:{backgroundColor:"".concat(e.color)},onDoubleClick:p,id:e.id,title:e.title,children:[e.title,Object(u.jsx)("div",{onClick:A,children:Object(u.jsx)("i",{className:"far fa-times-circle",id:e.id})})]},e.id)}));return Object(n.useEffect)(M,[M]),Object(u.jsx)("div",{className:"tag-list",children:Object(u.jsxs)(N.a,{children:[Object(u.jsx)(f.a,{as:"h2",children:"Liste des Tags"}),Object(u.jsx)("p",{children:"Pour modifier un tag, double cliquez dessus!"}),Object(u.jsx)("div",{className:"tags",children:T}),a?Object(u.jsx)(e,{}):null,Object(u.jsx)(S.a,{open:w,onCancel:function(){k(!1)},onConfirm:function(){var e=_;j.a.get("tag/archive/".concat(e)).then((function(e){console.log(e),window.location.reload(!1),console.log("supprim\xe9")})).catch((function(e){console.log(e)})),k(!1)},content:" \xcates-vous s\xfbr de vouloir supprimer ce tag?",cancelButton:"Annuler",confirmButton:"OK"})]})})},X=function(){var e=Object(n.useState)(""),t=Object(i.a)(e,2),c=t[0],a=t[1],s=Object(n.useState)(""),r=Object(i.a)(s,2),l=r[0],o=r[1];return Object(u.jsx)("div",{className:"panne-form",children:Object(u.jsxs)(N.a,{children:[Object(u.jsx)(f.a,{as:"h2",children:"Cr\xe9er un mod\xe8le de panne"}),Object(u.jsxs)(g.a,{onSubmit:function(e){e.preventDefault(),j.a.post("panne/add",{title:c},{withCredentials:!0,headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){o("* Panne enregistr\xe9e avec succ\xe8s !")})).catch((function(e){console.log(e)})),e.target.reset()},children:[Object(u.jsxs)(g.a.Field,{children:[Object(u.jsx)("label",{children:"Nom de la panne :"}),Object(u.jsx)("input",{type:"text",name:"title",onChange:function(e){return a(e.target.value)}})]}),Object(u.jsxs)("div",{className:"buttons",children:[Object(u.jsx)(d.a,{color:"teal",children:"Valider"}),Object(u.jsx)(d.a,{color:"red",onClick:function(){window.location.reload(!1)},children:"Annuler"}),l&&Object(u.jsx)("p",{className:"error-message",children:l})]})]})]})})},Y=function(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),c=t[0],a=t[1],s=function e(){return j.a.get("pannes").then((function(e){a(e.data)})).catch((function(e){console.log(e)})),e},r=Object(n.useState)(!1),l=Object(i.a)(r,2),o=l[0],b=l[1],O=Object(n.useState)(""),h=Object(i.a)(O,2),x=h[0],m=h[1],p=function(e){m(e.target.id),b(!0)},v=Object(n.useState)(""),C=Object(i.a)(v,2),w=C[0],k=C[1],I=Object(n.useState)(""),F=Object(i.a)(I,2),_=F[0],y=F[1],A=function(e){y(e.target.title),M(!0),k(e.target.id)},D=function(){var e=Object(n.useState)(""),t=Object(i.a)(e,2),c=t[0],a=t[1];return Object(u.jsxs)(g.a,{onSubmit:function(e){e.preventDefault(),j.a.patch("panne/edit/".concat(w),{title:c}).then((function(e){console.log(e),window.location.reload(!1)})).catch((function(e){console.log(e)}))},children:[Object(u.jsx)(f.a,{as:"h2",children:"Modifier la panne"}),Object(u.jsxs)(g.a.Field,{children:[Object(u.jsx)("label",{children:"Nom de la nouvelle panne :"}),Object(u.jsx)("input",{type:"text",onChange:function(e){return a(e.target.value)},placeholder:_})]}),Object(u.jsxs)("div",{className:"buttons",children:[Object(u.jsx)(d.a,{color:"teal",children:"Valider"}),Object(u.jsx)(d.a,{color:"red",onClick:function(){window.location.reload(!1)},children:"Annuler"})]})]})},L=Object(n.useState)(!1),R=Object(i.a)(L,2),z=R[0],M=R[1],T=c.map((function(e){return Object(u.jsxs)(N.a,{className:"panne-segment",children:[e.title,Object(u.jsxs)("div",{className:"options",children:[Object(u.jsx)("i",{className:"far fa-trash-alt",onClick:p,id:e.id}),Object(u.jsx)("i",{className:"fas fa-pencil-alt",onClick:A,id:e.id,title:e.title})]})]},e.id)}));return Object(n.useEffect)(s,[s]),Object(u.jsxs)("div",{className:"panne-list",children:[Object(u.jsx)(f.a,{as:"h2",children:"Liste des pannes cr\xe9es :"}),Object(u.jsx)(N.a,{children:T}),Object(u.jsx)(S.a,{open:o,onCancel:function(){b(!1)},onConfirm:function(){j.a.get("panne/archive/".concat(x)).then((function(e){console.log(e),window.location.reload(!1)})).catch((function(e){console.log(e)})),b(!1)},content:" \xcates-vous s\xfbr de vouloir supprimer cette panne?",cancelButton:"Annuler",confirmButton:"OK"}),z?Object(u.jsx)(D,{}):null]})},ee=function(e){var t=e.clients,c=Object(r.f)(),n=t.map((function(e){return Object(u.jsxs)(C.a.Row,{className:"grid-details",children:[Object(u.jsx)(C.a.Column,{children:Object(u.jsx)("div",{className:"grid-details",children:e.lastname})}),Object(u.jsx)(C.a.Column,{children:Object(u.jsx)("div",{className:"grid-details",children:e.firstname})}),Object(u.jsx)(C.a.Column,{children:Object(u.jsx)("div",{className:"grid-details",children:e.mail})}),Object(u.jsx)(C.a.Column,{children:Object(u.jsx)("div",{className:"grid-details",children:e.phone})}),Object(u.jsxs)(C.a.Column,{children:[Object(u.jsx)("i",{className:"far fa-eye",onClick:function(){return c.push("/client/".concat(e.id))}}),Object(u.jsx)("i",{className:"far fa-trash-alt"})]})]},e.id)}));return Object(u.jsxs)("div",{className:"client-list",children:[Object(u.jsx)(f.a,{as:"h2",children:"Liste des clients"}),Object(u.jsxs)("div",{className:"dashboard",children:[Object(u.jsx)(C.a,{columns:"equal",children:Object(u.jsxs)(C.a.Row,{children:[Object(u.jsx)(C.a.Column,{children:Object(u.jsx)(N.a,{children:"Nom"})}),Object(u.jsx)(C.a.Column,{children:Object(u.jsx)(N.a,{children:"Pr\xe9nom"})}),Object(u.jsx)(C.a.Column,{children:Object(u.jsx)(N.a,{children:"Mail"})}),Object(u.jsx)(C.a.Column,{children:Object(u.jsx)(N.a,{children:"T\xe9l\xe9phone"})}),Object(u.jsx)(C.a.Column,{children:Object(u.jsx)(N.a,{children:"Options"})})]})}),Object(u.jsx)(N.a,{className:"grid-details",children:Object(u.jsx)(C.a,{columns:5,children:n})})]})]})},te=function(){var e=Object(r.f)(),t=Object(n.useState)({}),c=Object(i.a)(t,2),a=c[0],s=c[1],l=Object(r.g)().id;return j.a.get("customer/".concat(l)).then((function(e){s(e.data)})).catch((function(e){console.log(e)})),Object(u.jsx)("div",{className:"client",children:Object(u.jsxs)(N.a,{children:[Object(u.jsxs)("div",{className:"client-header",children:[Object(u.jsx)("p",{}),Object(u.jsx)(f.a,{as:"h2",children:"Fiche Client"}),Object(u.jsx)("i",{className:"fas fa-pencil-alt",onClick:function(){return e.push("/clientEdit/".concat(a.id))},id:a.id})]}),Object(u.jsxs)(I.a,{children:[Object(u.jsxs)(I.a.Item,{children:[Object(u.jsx)("span",{className:"repair-span",children:"Nom: "})," ",a.lastname," "]}),Object(u.jsxs)(I.a.Item,{children:[Object(u.jsx)("span",{className:"repair-span",children:"Pr\xe9nom: "})," ",a.firstname," "]}),Object(u.jsxs)(I.a.Item,{children:[Object(u.jsx)("span",{className:"repair-span",children:"T\xe9l\xe9phone: "})," ",a.phone," "]}),a.phone_two?Object(u.jsxs)(I.a.Item,{children:[Object(u.jsx)("span",{className:"repair-span",children:"T\xe9l\xe9phone 2: "})," ",a.phone_two," "]}):Object(u.jsx)("p",{}),a.mail?Object(u.jsxs)(I.a.Item,{children:[Object(u.jsx)("span",{className:"repair-span",children:"Mail: "})," ",a.mail," "]}):Object(u.jsx)("p",{})]})]})})},ce=function(){var e=Object(r.f)(),t=Object(n.useState)({firstname:"",lastname:"",phone:"",phone_two:"",mail:""}),c=Object(i.a)(t,2),a=c[0],s=c[1],l=function(e){s(Object(p.a)(Object(p.a)({},a),{},Object(m.a)({},e.target.name,e.target.value)))},o=Object(n.useRef)(!0),b=Object(n.useState)(null),O=Object(i.a)(b,2),h=O[0],x=O[1],v=Object(n.useState)(!0),C=Object(i.a)(v,2),S=C[0],w=C[1];return Object(n.useEffect)((function(){o.current?o.current=!1:w(a.firstname&&a.lastname&&a.phone?(x(null),!1):(x("* Vous n'avez pas compl\xe9t\xe9 tous les champs n\xe9cessaires"),!0))}),[a.lastname,a.firstname,a.phone]),Object(u.jsx)("div",{className:"client-form",children:Object(u.jsxs)(N.a,{children:[Object(u.jsx)(f.a,{as:"h2",children:"Cr\xe9er une fiche client"}),Object(u.jsxs)(g.a,{onSubmit:function(t){t.preventDefault(),j.a.post("customer/add",a,{withCredentials:!0,headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(t){console.log(t),e.push("/ClientList"),window.location.reload(!1)})).catch((function(e){console.log(e)}))},children:[Object(u.jsxs)(g.a.Field,{children:[Object(u.jsx)("label",{children:"Nom *"}),Object(u.jsx)("input",{type:"text",name:"lastname",onChange:l})]}),Object(u.jsxs)(g.a.Field,{children:[Object(u.jsx)("label",{children:"Pr\xe9nom *"}),Object(u.jsx)("input",{type:"text",name:"firstname",onChange:l})]}),Object(u.jsxs)(g.a.Field,{children:[Object(u.jsx)("label",{children:"Mail"}),Object(u.jsx)("input",{type:"text",name:"mail",onChange:l})]}),Object(u.jsxs)(g.a.Field,{children:[Object(u.jsx)("label",{children:"T\xe9l\xe9phone *"}),Object(u.jsx)("input",{type:"text",name:"phone",onChange:l})]}),Object(u.jsxs)(g.a.Field,{children:[Object(u.jsx)("label",{children:"T\xe9l\xe9phone 2"}),Object(u.jsx)("input",{type:"text",name:"phone_two",onChange:l})]}),Object(u.jsxs)("div",{className:"buttons",children:[Object(u.jsx)(d.a,{color:"teal",disabled:S,children:"Valider"}),Object(u.jsx)(d.a,{color:"red",onClick:function(){window.location.reload(!1)},children:"Annuler"})]}),h&&Object(u.jsx)("p",{className:"error-message",children:h}),"* Champs obligatoires"]})]})})},ne=function(){var e=Object(r.f)(),t=Object(r.g)().id,c=Object(n.useState)(""),a=Object(i.a)(c,2),s=a[0],l=a[1];j.a.get("customer/".concat(t)).then((function(e){l(e.data)})).catch((function(e){console.log(e)}));var o=Object(n.useState)({firstname:"",lastname:"",phone:"",phone_two:"",mail:""}),b=Object(i.a)(o,2),O=b[0],h=b[1],x=function(e){h(Object(p.a)(Object(p.a)({},O),{},Object(m.a)({},e.target.name,e.target.value)))};return Object(u.jsx)("div",{className:"client-edit",children:Object(u.jsxs)(N.a,{children:[Object(u.jsxs)(f.a,{as:"h2",children:["Modifier la fiche client de ",s.lastname," ",s.firstname]}),Object(u.jsxs)(g.a,{onSubmit:function(c){c.preventDefault(),j.a.patch("customer/edit/".concat(t),O,{withCredentials:!0,headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(t){console.log(t),e.push("/ClientList"),window.location.reload(!1)})).catch((function(e){console.log(e)}))},children:[Object(u.jsxs)(g.a.Field,{children:[Object(u.jsx)("label",{children:"Nom"}),Object(u.jsx)("input",{type:"text",name:"lastname",onChange:x,placeholder:s.lastname})]}),Object(u.jsxs)(g.a.Field,{children:[Object(u.jsx)("label",{children:"Pr\xe9nom"}),Object(u.jsx)("input",{type:"text",name:"firstname",onChange:x,placeholder:s.firstname})]}),Object(u.jsxs)(g.a.Field,{children:[Object(u.jsx)("label",{children:"Mail"}),Object(u.jsx)("input",{type:"text",name:"mail",onChange:x})]}),Object(u.jsxs)(g.a.Field,{children:[Object(u.jsx)("label",{children:"T\xe9l\xe9phone"}),Object(u.jsx)("input",{type:"text",name:"phone",onChange:x,placeholder:s.phone})]}),Object(u.jsxs)(g.a.Field,{children:[Object(u.jsx)("label",{children:"T\xe9l\xe9phone 2"}),Object(u.jsx)("input",{type:"text",name:"phone_two",onChange:x})]}),Object(u.jsxs)("div",{className:"buttons",children:[Object(u.jsx)(d.a,{color:"teal",children:"Valider"}),Object(u.jsx)(d.a,{color:"red",onClick:function(){window.location.reload(!1)},children:"Annuler"})]})]})]})})},ae=c(231),se=c.n(ae),ie=c(232),re=c.n(ie),le=function(){var e=Object(n.useState)(""),t=Object(i.a)(e,2),c=t[0],a=t[1],s=Object(n.useState)(""),r=Object(i.a)(s,2),l=r[0],o=r[1],b=Object(n.useState)(""),O=Object(i.a)(b,2),h=O[0],x=O[1],m=Object(n.useState)(""),p=Object(i.a)(m,2),v=p[0],C=p[1],S=Object(n.useState)(!1),w=Object(i.a)(S,2),k=w[0],I=w[1],F=function(e,t){var c=t.value;return I({value:c})},y=Object(n.useRef)(!0),A=Object(n.useState)(null),D=Object(i.a)(A,2),L=D[0],R=D[1],z=Object(n.useState)(""),M=Object(i.a)(z,2),T=M[0],B=M[1];return Object(n.useEffect)((function(){y.current?y.current=!1:""===l||""===c||""===v?R("* Vous n'avez pas compl\xe9t\xe9 tous les champs n\xe9cessaires"):v!==T?R("* Mot de passe incorrect"):se.a.validate(v)?re.a.validate(h)?R(null):R(" * Mail incorrect"):R(" * Votre mot de passe doit contenir une majuscule, un chiffre et un caract\xe8re sp\xe9cial")}),[l,c,v,h,T]),Object(u.jsx)("div",{className:"worker-form",children:Object(u.jsxs)(N.a,{children:[Object(u.jsx)(f.a,{as:"h2",children:"Cr\xe9er un compte "}),Object(u.jsxs)(g.a,{onSubmit:function(e){e.preventDefault(),j.a.post("user/add",{firstname:c,lastname:l,mail:h,password:v,role_id:k.value},{withCredentials:!0,headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))},children:[Object(u.jsxs)(g.a.Field,{children:[Object(u.jsx)("label",{children:"Nom"}),Object(u.jsx)("input",{type:"text",name:"lastname",onChange:function(e){return o(e.target.value)}})]}),Object(u.jsxs)(g.a.Field,{children:[Object(u.jsx)("label",{children:"Pr\xe9nom"}),Object(u.jsx)("input",{type:"text",name:"firstname",onChange:function(e){return a(e.target.value)}})]}),Object(u.jsxs)(g.a.Field,{children:[Object(u.jsx)("label",{children:"Adresse mail"}),Object(u.jsx)("input",{type:"text",name:"mail",onChange:function(e){return x(e.target.value)}})]}),Object(u.jsxs)(g.a.Field,{children:[Object(u.jsx)("label",{children:"Mot de passe"}),Object(u.jsx)("input",{type:"password",name:"password",onChange:function(e){return C(e.target.value)}})]}),Object(u.jsxs)(g.a.Field,{children:[Object(u.jsx)("label",{children:"Confirmez le mot de passe"}),Object(u.jsx)("input",{type:"password",name:"password2",onChange:function(e){return B(e.target.value)}})]}),Object(u.jsxs)(g.a.Field,{children:[Object(u.jsx)("label",{children:"R\xf4le"}),Object(u.jsx)(_.a,{radio:!0,label:"Administrateur",name:"role_id",value:"2",checked:"2"===k.value,onChange:F}),Object(u.jsx)(_.a,{radio:!0,label:"Utilisateur",name:"role_id",value:"1",checked:"1"===k.value,onChange:F})]}),Object(u.jsxs)("div",{className:"buttons",children:[Object(u.jsx)(d.a,{color:"teal",children:"Valider"}),Object(u.jsx)(d.a,{color:"red",onClick:function(){window.location.reload(!1)},children:"Annuler"})]}),L&&Object(u.jsx)("p",{className:"error-message",children:L})]})]})})},je=function(e){var t=e.workers,c=Object(r.f)(),n=t.map((function(e){return Object(u.jsxs)(C.a.Row,{className:"grid-details",children:[Object(u.jsx)(C.a.Column,{children:Object(u.jsx)("div",{className:"grid-details",children:e.lastname})}),Object(u.jsx)(C.a.Column,{children:Object(u.jsx)("div",{className:"grid-details",children:e.firstname})}),Object(u.jsx)(C.a.Column,{children:Object(u.jsx)("div",{className:"grid-details",children:e.mail})}),Object(u.jsx)(C.a.Column,{children:Object(u.jsx)("div",{className:"grid-details",children:1===e.role_id?"Utilisateur":"Administrateur"})}),Object(u.jsxs)(C.a.Column,{children:[Object(u.jsx)("i",{className:"far fa-eye",onClick:function(){return c.push("/user/".concat(e.id))}}),Object(u.jsx)("i",{className:"far fa-trash-alt"})]})]},e.id)}));return Object(u.jsxs)("div",{className:"client-list",children:[Object(u.jsx)(f.a,{as:"h2",children:"Liste des employ\xe9s"}),Object(u.jsxs)("div",{className:"dashboard",children:[Object(u.jsx)(C.a,{columns:"equal",children:Object(u.jsxs)(C.a.Row,{children:[Object(u.jsx)(C.a.Column,{children:Object(u.jsx)(N.a,{children:"Nom"})}),Object(u.jsx)(C.a.Column,{children:Object(u.jsx)(N.a,{children:"Pr\xe9nom"})}),Object(u.jsx)(C.a.Column,{children:Object(u.jsx)(N.a,{children:"Mail"})}),Object(u.jsx)(C.a.Column,{children:Object(u.jsx)(N.a,{children:"Statut"})}),Object(u.jsx)(C.a.Column,{children:Object(u.jsx)(N.a,{children:"Options"})})]})}),Object(u.jsx)(N.a,{className:"grid-details",children:Object(u.jsx)(C.a,{columns:5,children:n})})]})]})},oe=function(){var e=Object(r.f)(),t=Object(n.useState)({}),c=Object(i.a)(t,2),a=c[0],s=c[1],l=Object(r.g)().id;return j.a.get("user/".concat(l)).then((function(e){s(e.data)})).catch((function(e){console.log(e)})),Object(u.jsx)("div",{className:"client",children:Object(u.jsxs)(N.a,{children:[Object(u.jsxs)("div",{className:"client-header",children:[Object(u.jsx)("p",{}),Object(u.jsx)(f.a,{as:"h2",children:"Fiche Employ\xe9"}),Object(u.jsx)("i",{className:"fas fa-pencil-alt",onClick:function(){return e.push("/workerEdit/".concat(a.id))},id:a.id})]}),Object(u.jsxs)(I.a,{children:[Object(u.jsxs)(I.a.Item,{children:[Object(u.jsx)("span",{className:"repair-span",children:"Nom: "})," ",a.lastname," "]}),Object(u.jsxs)(I.a.Item,{children:[Object(u.jsx)("span",{className:"repair-span",children:"Pr\xe9nom: "})," ",a.firstname," "]}),Object(u.jsxs)(I.a.Item,{children:[Object(u.jsx)("span",{className:"repair-span",children:"Mail: "})," ",a.mail," "]}),Object(u.jsxs)(I.a.Item,{children:[Object(u.jsx)("span",{className:"repair-span",children:"Statut: "})," ",1===a.role_id?"Utilisateur":"Administrateur"," "]})]})]})})},de=function(){var e=Object(r.f)(),t=Object(r.g)().id,c=Object(n.useState)(""),a=Object(i.a)(c,2),s=a[0],l=a[1];j.a.get("user/".concat(t)).then((function(e){l(e.data)})).catch((function(e){console.log(e)}));var o=Object(n.useState)({firstname:"",lastname:"",mail:"",password:""}),b=Object(i.a)(o,2),O=b[0],h=b[1],x=Object(n.useState)(null),v=Object(i.a)(x,2),C=v[0],S=v[1],w=function(e){h(Object(p.a)(Object(p.a)({},O),{},Object(m.a)({},e.target.name,e.target.value)))};return Object(u.jsx)("div",{className:"client-edit",children:Object(u.jsxs)(N.a,{children:[Object(u.jsxs)(f.a,{as:"h2",children:["Modifier la fiche employ\xe9 de ",s.lastname," ",s.firstname]}),Object(u.jsxs)(g.a,{onSubmit:function(c){c.preventDefault(),j.a.patch("user/edit/".concat(t),O,{withCredentials:!0,headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(t){console.log(t),t.data?(e.push("/workerList"),window.location.reload(!1)):S(" * Mot de passe incorrect")})).catch((function(e){console.log(e)}))},children:[Object(u.jsxs)(g.a.Field,{children:[Object(u.jsx)("label",{children:"Nom"}),Object(u.jsx)("input",{type:"text",name:"lastname",onChange:w,placeholder:s.lastname})]}),Object(u.jsxs)(g.a.Field,{children:[Object(u.jsx)("label",{children:"Pr\xe9nom"}),Object(u.jsx)("input",{type:"text",name:"firstname",onChange:w,placeholder:s.firstname})]}),Object(u.jsxs)(g.a.Field,{children:[Object(u.jsx)("label",{children:"Mail"}),Object(u.jsx)("input",{type:"text",name:"mail",onChange:w})]}),Object(u.jsxs)(g.a.Field,{children:[Object(u.jsx)("label",{children:"Saisissez votre mot de passe pour confirmer:"}),Object(u.jsx)("input",{type:"password",name:"password",onChange:w})]}),C&&Object(u.jsx)("p",{className:"error-message",children:C}),Object(u.jsxs)("div",{className:"buttons",children:[Object(u.jsx)(d.a,{color:"teal",children:"Valider"}),Object(u.jsx)(d.a,{color:"red",onClick:function(){window.location.reload(!1)},children:"Annuler"})]})]})]})})},be=function(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),c=t[0],a=t[1],s=function e(){return j.a.get("actions").then((function(e){a(e.data)})).catch((function(e){console.log(e)})),e},r=Object(n.useState)(""),l=Object(i.a)(r,2),o=l[0],b=l[1],O=Object(n.useState)(""),h=Object(i.a)(O,2),x=h[0],m=h[1],p=function(e){m(e.target.title),k(!0),b(e.target.id)},v=function(){var e=Object(n.useState)(""),t=Object(i.a)(e,2),c=t[0],a=t[1];return Object(u.jsxs)(g.a,{onSubmit:function(e){e.preventDefault(),j.a.patch("action/edit/".concat(o),{name:c}).then((function(e){console.log(e),window.location.reload(!1)})).catch((function(e){console.log(e)}))},children:[Object(u.jsx)(f.a,{as:"h2",children:"Modifier l'action"}),Object(u.jsxs)(g.a.Field,{children:[Object(u.jsx)("label",{children:"Nom de la nouvelle action :"}),Object(u.jsx)("input",{type:"text",onChange:function(e){return a(e.target.value)},placeholder:x})]}),Object(u.jsxs)("div",{className:"buttons",children:[Object(u.jsx)(d.a,{color:"teal",children:"Valider"}),Object(u.jsx)(d.a,{color:"red",onClick:function(){window.location.reload(!1)},children:"Annuler"})]})]})},C=Object(n.useState)(!1),S=Object(i.a)(C,2),w=S[0],k=S[1],I=c.map((function(e){return Object(u.jsxs)(N.a,{className:"panne-segment",color:1===e.is_blocked?"pink":"grey",children:[e.name,Object(u.jsx)("div",{className:"options",children:0===e.is_blocked?Object(u.jsx)("i",{className:"fas fa-pencil-alt",onClick:p,id:e.id,title:e.name}):null})]},e.id)}));return Object(n.useEffect)(s,[s]),Object(u.jsxs)("div",{className:"panne-list",children:[Object(u.jsx)(f.a,{as:"h2",children:"Liste des actions cr\xe9es :"}),Object(u.jsx)(N.a,{children:I}),w?Object(u.jsx)(v,{}):null]})},ue=function(){var e=Object(n.useState)(""),t=Object(i.a)(e,2),c=t[0],a=t[1],s=Object(n.useState)(""),r=Object(i.a)(s,2),l=r[0],o=r[1];return Object(u.jsx)("div",{className:"panne-form",children:Object(u.jsxs)(N.a,{children:[Object(u.jsx)(f.a,{as:"h2",children:"Cr\xe9er une action"}),Object(u.jsxs)(g.a,{onSubmit:function(e){e.preventDefault(),j.a.post("action/add",{name:c},{withCredentials:!0,headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){o("* Action enregistr\xe9e avec succ\xe8s !")})).catch((function(e){console.log(e)})),e.target.reset()},children:[Object(u.jsxs)(g.a.Field,{children:[Object(u.jsx)("label",{children:"Nom de l'action :"}),Object(u.jsx)("input",{type:"text",name:"name",onChange:function(e){return a(e.target.value)}})]}),Object(u.jsxs)("div",{className:"buttons",children:[Object(u.jsx)(d.a,{color:"teal",children:"Valider"}),Object(u.jsx)(d.a,{color:"red",onClick:function(){window.location.reload(!1)},children:"Annuler"}),l&&Object(u.jsx)("p",{className:"error-message",children:l})]})]})]})})},Oe=function(e){var t=e.archive,c=Object(r.f)(),n=t.map((function(e){return Object(u.jsxs)(C.a.Row,{className:"grid-details",children:[Object(u.jsx)(C.a.Column,{children:Object(u.jsx)("div",{className:"grid-details",children:e.order_number})}),Object(u.jsx)(C.a.Column,{children:Object(u.jsxs)("div",{className:"grid-details",children:[e.customer.lastname," ",e.customer.firstname]})}),Object(u.jsx)(C.a.Column,{children:Object(u.jsx)("div",{className:"grid-details",children:e.device_name})}),Object(u.jsx)(C.a.Column,{children:Object(u.jsx)("div",{className:"grid-details",children:e.device_brand})}),Object(u.jsx)(C.a.Column,{children:Object(u.jsx)("div",{className:"grid-details",children:new Intl.DateTimeFormat("fr-FR").format(new Date(e.date_enter))})}),Object(u.jsx)(C.a.Column,{children:Object(u.jsx)("i",{className:"far fa-eye",onClick:function(){return c.push("/RepairSheet/".concat(e.order_number))}})})]},e.id)}));return Object(u.jsxs)("div",{className:"archive-list",children:[Object(u.jsx)(f.a,{as:"h2",children:"Liste des fiches archiv\xe9es"}),Object(u.jsxs)("div",{className:"dashboard",children:[Object(u.jsx)(C.a,{columns:"equal",children:Object(u.jsxs)(C.a.Row,{children:[Object(u.jsx)(C.a.Column,{children:Object(u.jsx)(N.a,{children:"N\xb0 de billet"})}),Object(u.jsx)(C.a.Column,{children:Object(u.jsx)(N.a,{children:"Client"})}),Object(u.jsx)(C.a.Column,{children:Object(u.jsx)(N.a,{children:"Appareil"})}),Object(u.jsx)(C.a.Column,{children:Object(u.jsx)(N.a,{children:"Mod\xe8le"})}),Object(u.jsx)(C.a.Column,{children:Object(u.jsx)(N.a,{children:"Entr\xe9e en SAV"})}),Object(u.jsx)(C.a.Column,{children:Object(u.jsx)(N.a,{children:"Options"})})]})}),Object(u.jsx)(N.a,{className:"grid-details",children:Object(u.jsx)(C.a,{columns:6,children:n})})]})]})},he=function(){var e=Object(n.useState)(!1),t=Object(i.a)(e,2),c=t[0],a=t[1],s=Object(n.useState)([]),r=Object(i.a)(s,2),l=r[0],o=r[1],d=function e(){return j.a.get("activity/10").then((function(e){o(e.data),a(!0)})).catch((function(e){console.log(e)})),e},b=l.map((function(e){return Object(u.jsxs)(I.a.Item,{children:[Object(u.jsx)(I.a.Icon,{name:"bell"}),Object(u.jsxs)(I.a.Content,{children:[e.firstname," ",e.lastname," ","tag"===e.type?Object(u.jsx)("span",{children:"a ajout\xe9 le tag"}):null," ",Object(u.jsx)("span",{style:{color:e.color},children:e.name})," ",Object(u.jsx)("span",{style:{fontWeight:"bold"},children:e.order_number})," le ",new Intl.DateTimeFormat("fr-FR").format(new Date(e.created_at))]})]},e.created_at)}));return Object(n.useEffect)(d,[d]),Object(u.jsx)("div",{className:"activity",children:Object(u.jsxs)(N.a,{children:[c?[]:Object(u.jsx)(E.a,{active:!0,inverted:!0,children:Object(u.jsx)(P.a,{inverted:!0})}),Object(u.jsx)(f.a,{as:"h2",children:"Historique"}),Object(u.jsx)(I.a,{children:b})]})})},xe=function(){var e=localStorage.getItem("token"),t=localStorage.getItem("isAdmin"),c=Object(n.useState)([]),a=Object(i.a)(c,2),s=a[0],l=a[1],o=function e(){return j.a.get("repairSheets").then((function(e){l(e.data)})).catch((function(e){console.log(e)})),e},d=Object(n.useState)([]),b=Object(i.a)(d,2),O=b[0],h=b[1],m=function e(){return j.a.get("customers").then((function(e){h(e.data)})).catch((function(e){console.log(e)})),e},p=Object(n.useState)([]),f=Object(i.a)(p,2),g=f[0],C=f[1],N=function e(){return j.a.get("users").then((function(e){C(e.data)})).catch((function(e){console.log(e)})),e},S=Object(n.useState)([]),k=Object(i.a)(S,2),I=k[0],F=k[1],_=function e(){return j.a.get("archivedRepairSheets").then((function(e){F(e.data)})).catch((function(e){console.log(e)})),e};return Object(n.useEffect)(o,[o]),Object(n.useEffect)(m,[m]),Object(n.useEffect)(N,[N]),Object(n.useEffect)(_,[_]),Object(u.jsxs)("div",{className:"App",children:[Object(u.jsx)(r.b,{exact:!0,path:"/",children:Object(u.jsx)(v,{})}),Object(u.jsxs)(r.b,{exact:!0,path:"/dashboard",children:[Object(u.jsx)(x,{}),Object(u.jsxs)("div",{className:"main-page",children:["true"===t?Object(u.jsx)(J,{}):Object(u.jsx)(Z,{}),Object(u.jsx)(w,{repair:s}),Object(u.jsx)(he,{})]})]}),Object(u.jsx)(r.b,{exact:!0,path:"/RepairSheetForm",render:function(){return e?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(x,{}),Object(u.jsxs)("div",{className:"main-page",children:["true"===t?Object(u.jsx)(J,{}):Object(u.jsx)(Z,{}),Object(u.jsx)(B,{clients:O}),Object(u.jsx)(he,{})]})]}):Object(u.jsx)(r.a,{to:"/"})}}),Object(u.jsx)(r.b,{exact:!0,path:"/RepairSheet/edit/:order_number",render:function(){return e?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(x,{}),Object(u.jsxs)("div",{className:"main-page",children:["true"===t?Object(u.jsx)(J,{}):Object(u.jsx)(Z,{}),Object(u.jsx)(T,{})]})]}):Object(u.jsx)(r.a,{to:"/"})}}),Object(u.jsx)(r.b,{exact:!0,path:"/RepairSheet/:id",render:function(){return e?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(x,{}),Object(u.jsxs)("div",{className:"main-page",children:["true"===t?Object(u.jsx)(J,{}):Object(u.jsx)(Z,{}),Object(u.jsx)(U,{})]})]}):Object(u.jsx)(r.a,{to:"/"})}}),Object(u.jsx)(r.b,{exact:!0,path:"/TagForm",render:function(){return e?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(x,{}),Object(u.jsxs)("div",{className:"main-page",children:["true"===t?Object(u.jsx)(J,{}):Object(u.jsx)(Z,{}),Object(u.jsx)(G,{}),Object(u.jsx)(he,{})]})]}):Object(u.jsx)(r.a,{to:"/"})}}),Object(u.jsx)(r.b,{exact:!0,path:"/TagList",render:function(){return e?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(x,{}),Object(u.jsxs)("div",{className:"main-page",children:["true"===t?Object(u.jsx)(J,{}):Object(u.jsx)(Z,{}),Object(u.jsx)(Q,{}),Object(u.jsx)(he,{})]})]}):Object(u.jsx)(r.a,{to:"/"})}}),Object(u.jsx)(r.b,{exact:!0,path:"/PanneForm",render:function(){return e?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(x,{}),Object(u.jsxs)("div",{className:"main-page",children:["true"===t?Object(u.jsx)(J,{}):Object(u.jsx)(Z,{}),Object(u.jsx)(X,{}),Object(u.jsx)(he,{})]})]}):Object(u.jsx)(r.a,{to:"/"})}}),Object(u.jsx)(r.b,{exact:!0,path:"/PanneList",render:function(){return e?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(x,{}),Object(u.jsxs)("div",{className:"main-page",children:["true"===t?Object(u.jsx)(J,{}):Object(u.jsx)(Z,{}),Object(u.jsx)(Y,{}),Object(u.jsx)(he,{})]})]}):Object(u.jsx)(r.a,{to:"/"})}}),Object(u.jsx)(r.b,{exact:!0,path:"/ClientList",render:function(){return e?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(x,{}),Object(u.jsxs)("div",{className:"main-page",children:["true"===t?Object(u.jsx)(J,{}):Object(u.jsx)(Z,{}),Object(u.jsx)(ee,{clients:O}),Object(u.jsx)(he,{})]})]}):Object(u.jsx)(r.a,{to:"/"})}}),Object(u.jsx)(r.b,{exact:!0,path:"/client/:id",render:function(){return e?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(x,{}),Object(u.jsxs)("div",{className:"main-page",children:["true"===t?Object(u.jsx)(J,{}):Object(u.jsx)(Z,{}),Object(u.jsx)(te,{}),Object(u.jsx)(he,{})]})]}):Object(u.jsx)(r.a,{to:"/"})}}),Object(u.jsx)(r.b,{exact:!0,path:"/clientform",render:function(){return e?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(x,{}),Object(u.jsxs)("div",{className:"main-page",children:["true"===t?Object(u.jsx)(J,{}):Object(u.jsx)(Z,{}),Object(u.jsx)(ce,{}),Object(u.jsx)(he,{})]})]}):Object(u.jsx)(r.a,{to:"/"})}}),Object(u.jsx)(r.b,{exact:!0,path:"/clientEdit/:id",render:function(){return e?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(x,{}),Object(u.jsxs)("div",{className:"main-page",children:["true"===t?Object(u.jsx)(J,{}):Object(u.jsx)(Z,{}),Object(u.jsx)(ne,{}),Object(u.jsx)(he,{})]})]}):Object(u.jsx)(r.a,{to:"/"})}}),Object(u.jsx)(r.b,{exact:!0,path:"/workerForm",render:function(){return e?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(x,{}),Object(u.jsxs)("div",{className:"main-page",children:["true"===t?Object(u.jsx)(J,{}):Object(u.jsx)(Z,{}),Object(u.jsx)(le,{}),Object(u.jsx)(he,{})]})]}):Object(u.jsx)(r.a,{to:"/"})}}),Object(u.jsx)(r.b,{exact:!0,path:"/workerList",render:function(){return e?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(x,{}),Object(u.jsxs)("div",{className:"main-page",children:["true"===t?Object(u.jsx)(J,{}):Object(u.jsx)(Z,{}),Object(u.jsx)(je,{workers:g}),Object(u.jsx)(he,{})]})]}):Object(u.jsx)(r.a,{to:"/"})}}),Object(u.jsx)(r.b,{exact:!0,path:"/user/:id",render:function(){return e?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(x,{}),Object(u.jsxs)("div",{className:"main-page",children:["true"===t?Object(u.jsx)(J,{}):Object(u.jsx)(Z,{}),Object(u.jsx)(oe,{})]})]}):Object(u.jsx)(r.a,{to:"/"})}}),Object(u.jsx)(r.b,{exact:!0,path:"/workerEdit/:id",render:function(){return e?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(x,{}),Object(u.jsxs)("div",{className:"main-page",children:["true"===t?Object(u.jsx)(J,{}):Object(u.jsx)(Z,{}),Object(u.jsx)(de,{}),Object(u.jsx)(he,{})]})]}):Object(u.jsx)(r.a,{to:"/"})}}),Object(u.jsx)(r.b,{exact:!0,path:"/actions",render:function(){return e?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(x,{}),Object(u.jsxs)("div",{className:"main-page",children:["true"===t?Object(u.jsx)(J,{}):Object(u.jsx)(Z,{}),Object(u.jsx)(be,{}),Object(u.jsx)(he,{})]})]}):Object(u.jsx)(r.a,{to:"/"})}}),Object(u.jsx)(r.b,{exact:!0,path:"/actionForm",render:function(){return e?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(x,{}),Object(u.jsxs)("div",{className:"main-page",children:["true"===t?Object(u.jsx)(J,{}):Object(u.jsx)(Z,{}),Object(u.jsx)(ue,{}),Object(u.jsx)(he,{})]})]}):Object(u.jsx)(r.a,{to:"/"})}}),Object(u.jsx)(r.b,{exact:!0,path:"/archives",render:function(){return e?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(x,{}),Object(u.jsxs)("div",{className:"main-page",children:["true"===t?Object(u.jsx)(J,{}):Object(u.jsx)(Z,{}),Object(u.jsx)(Oe,{archive:I}),Object(u.jsx)(he,{})]})]}):Object(u.jsx)(r.a,{to:"/"})}})]})};j.a.defaults.baseURL="https://d2hdqxhqxz4tb.cloudfront.net/";var me=document.getElementById("root");Object(a.render)(Object(u.jsx)(s.a,{children:Object(u.jsx)(xe,{})}),me)}},[[391,1,2]]]);
//# sourceMappingURL=main.6f25f364.chunk.js.map